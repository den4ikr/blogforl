(this["webpackJsonpts-blog"]=this["webpackJsonpts-blog"]||[]).push([[0],{52:function(t,e,n){},53:function(t,e,n){},78:function(t,e,n){"use strict";n.r(e);var c=n(1),a=n(0),r=n.n(a),i=n(26),o=n.n(i),s=(n(52),n(3)),d=(n(53),n(17)),l=function(){return Object(c.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(c.jsx)(d.b,{className:"navbar-brand",to:"#",children:"React"}),Object(c.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(c.jsx)("span",{className:"navbar-toggler-icon"})}),Object(c.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(c.jsx)("ul",{className:"navbar-nav",children:Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(d.b,{to:"/",className:"nav-link",href:"#",children:"Main"})})})})]})},b=n(14),u=n(24),p=n(18),j=Object(p.a)({title:{fontSize:"25px",padding:"20px 0px 15px 25px",textDecoration:"none"},body:{fontSize:"20px",paddingLeft:"25px"},postWrapper:{minHeight:"150px",boxShadow:"rgba(149, 157, 165, 0.2) 0px 8px 24px",marginTop:"55px",paddingRight:"20px",paddingBottom:"20px"},button:{paddingLeft:"25px",paddingTop:"25px",display:"flex"},existTitle:{textAlign:"center",fontSize:"25px",paddingTop:"50px"},comment:{marginLeft:"25px"},editModeBlock:{display:"flex"},editModeButton:{marginLeft:"15px"},commentBody:{paddingLeft:"25px",fontSize:"20px",paddingTop:"15px"},commentTitle:{paddingLeft:"25px",fontSize:"25px",paddingTop:"25px"}}),x=function(t){var e=j(),n=Object(a.useState)(!1),r=Object(u.a)(n,2),i=r[0],o=r[1],s=Object(a.useState)(""),d=Object(u.a)(s,2),l=d[0],b=d[1];return Object(c.jsx)("div",{className:e.comment,children:i?Object(c.jsxs)("div",{className:e.editModeBlock,children:[Object(c.jsx)("div",{children:Object(c.jsx)("input",{onChange:function(t){b(t.target.value)},placeholder:"Enter your comment...",className:"form-control",type:"text",value:l})}),Object(c.jsx)("div",{className:e.editModeButton,children:Object(c.jsx)("button",{onClick:function(){t.addComment(t.block.id,l),b("")},className:"btn btn-secondary",children:"Add Comment"})})]}):Object(c.jsx)("div",{children:Object(c.jsx)("button",{onClick:function(t){o(!0)},className:"btn btn-secondary",children:"Add Comment"})})})},m=function(t){var e=j();return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:e.commentTitle,children:"Comments:"}),t.comments&&Object.values(t.comments).map((function(t){return Object(c.jsx)("div",{className:e.commentBody,children:t.body},t.id)}))]})},f=function(t){var e=j(),n=Object(a.useState)(!1),r=Object(u.a)(n,2),i=r[0],o=r[1];return Object(c.jsx)("div",{className:e.postWrapper,children:i?Object(c.jsx)("div",{className:e.existTitle,children:"Post Does Not Exist"}):Object(c.jsx)("div",{children:t.block&&Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:e.title,children:t.block.title}),Object(c.jsx)("div",{className:e.body,children:t.block.body}),Object(c.jsx)("div",{children:Object(c.jsx)(m,{comments:t.block.comments})}),Object(c.jsx)("div",{children:t.block.title&&Object(c.jsxs)("div",{className:e.button,children:[Object(c.jsx)("div",{children:Object(c.jsx)("button",{className:"btn btn-secondary",onClick:function(){t.block&&(t.deleteBlock(t.block.id),o(!0))},children:"Delete Post"})}),Object(c.jsx)("div",{children:Object(c.jsx)(x,{block:t.block,addComment:t.addComment})})]})})]})})})},O=n(12),h=n.n(O),v=n(20),g=n(43),k=n.n(g).a.create({baseURL:"https://simple-blog-api.crew.red/posts"}),y=function(){return k.get("")},N=function(t){return k.get("/".concat(t,"?_embed=comments"))},B=function(t,e){return k.post("",{title:t,body:e})},S=function(t){return k.delete("".concat(t))},T=function(t,e){return k.post("https://simple-blog-api.crew.red/comments",{postId:t,body:e})},w="SET_BLOCK",C={block:{}},L=function(t){return{type:w,block:t}},P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case w:return Object(b.a)(Object(b.a)({},t),{},{block:e.block});default:return t}},E=n(19),A=Object(s.e)((function(t){return Object(a.useEffect)((function(){var e=t.match.params.postId;t.getBlock(e)}),[]),Object(c.jsx)(f,Object(b.a)({},t))})),D=Object(E.b)((function(t){return{block:t.block.block}}),{getBlock:function(t){return function(){var e=Object(v.a)(h.a.mark((function e(n){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(t);case 2:c=e.sent,n(L(c.data));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},deleteBlock:function(t){return function(){var e=Object(v.a)(h.a.mark((function e(n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t);case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},addComment:function(t,e){return function(){var n=Object(v.a)(h.a.mark((function n(c){var a;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,T(t,e);case 2:return n.next=4,N(t);case 4:(a=n.sent)&&c(L(a.data));case 6:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}})(A),I=n(21),z=Object(p.a)({inputBlock:{maxWidth:"450px"},error:{color:"red"},errorBlock:{marginBottom:"25px"}}),W=function(t){var e=z();return Object(c.jsx)("div",{children:Object(c.jsx)(I.d,{initialValues:{title:"",body:""},validate:function(t){var e={};return t.title||(e.title="Required"),t.body||(e.body="Required"),e},onSubmit:function(e,n){n.setSubmitting;t.addPost(e.title,e.body),e.title="",e.body=""},children:function(t){t.isSubmitting;return Object(c.jsxs)(I.c,{children:[Object(c.jsx)("div",{className:e.inputBlock,children:Object(c.jsx)(I.b,{className:"form-control",type:"text",name:"title",placeholder:"Enter Title"})}),Object(c.jsx)("div",{className:e.errorBlock,children:Object(c.jsx)(I.a,{className:e.error,name:"title",component:"div"})}),Object(c.jsx)("div",{className:e.inputBlock,children:Object(c.jsx)(I.b,{className:"form-control",type:"text",name:"body",placeholder:"Enter some text"})}),Object(c.jsx)("div",{className:e.errorBlock,children:Object(c.jsx)(I.a,{className:e.error,name:"body",component:"div"})}),Object(c.jsx)("button",{className:"btn btn-secondary",type:"submit",children:"Submit"})]})}})})},M=Object(p.a)({title:{fontSize:"25px",padding:"20px 0px 15px 25px",textDecoration:"none"},body:{fontSize:"20px",paddingLeft:"25px"},postWrapper:{minHeight:"150px",boxShadow:"rgba(149, 157, 165, 0.2) 0px 8px 24px",marginTop:"55px",paddingRight:"20px",paddingBottom:"20px"},inputBlock:{marginTop:"55px"},input:{marginTop:"10px"},buttonBlock:{marginTop:"10px"}}),R=function(t){var e=M();return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:e.inputBlock,children:Object(c.jsx)(W,{addPost:t.addPost})}),Object(c.jsx)("div",{children:t.data.map((function(t){return Object(c.jsxs)("div",{className:e.postWrapper,children:[Object(c.jsx)("div",{className:e.title,children:Object(c.jsx)(d.b,{to:"postblock/"+t.id,children:t.title})}),Object(c.jsx)("div",{className:e.body,children:t.body})]},t.id)}))})]})},F="SET_DATA",_={data:[]},q=function(t){return{type:F,data:t}},H=function(){return function(){var t=Object(v.a)(h.a.mark((function t(e){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y();case 2:n=t.sent,e(q(n.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},J=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case F:return Object(b.a)(Object(b.a)({},t),{},{data:e.data});default:return t}},U=Object(E.b)((function(t){return{data:t.posts.data}}),{getData:H,addPost:function(t,e){return function(){var n=Object(v.a)(h.a.mark((function n(c){var a;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,B(t,e);case 2:return n.next=4,y();case 4:(a=n.sent)&&c(q(a.data));case 6:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}})((function(t){return Object(a.useEffect)((function(){t.getData()}),[]),Object(c.jsx)(R,{data:t.data,addPost:t.addPost})})),K="INITIAL_SUCCESS",V={initilised:!1},G=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case K:return Object(b.a)(Object(b.a)({},t),{},{initilised:!0});default:return t}},Q=n.p+"static/media/Blocks-1s-200px.b67ad5ee.svg",X=Object(p.a)({preloaderWrapper:{width:"100%",height:"100%",display:"flex",justifyContent:"center"}}),Y=function(){var t=X();return Object(c.jsx)("div",{className:t.preloaderWrapper,children:Object(c.jsx)("img",{alt:"Preloader",src:Q})})},Z=Object(E.b)((function(t){return{initilised:t.app.initilised}}),{initiliseApp:function(){return function(t){var e=t(H());Promise.all([e]).then((function(){t({type:K})}))}}})((function(t){return Object(a.useEffect)((function(){t.initiliseApp()}),[]),t.initilised?Object(c.jsxs)("div",{children:[Object(c.jsx)(l,{}),Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)(s.a,{exact:!0,path:"/",render:function(){return Object(c.jsx)(U,{})}}),Object(c.jsx)(s.a,{exact:!0,path:"/postblock/:postId?",render:function(){return Object(c.jsx)(D,{})}})]})]}):Object(c.jsx)(Y,{})})),$=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,79)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,r=e.getLCP,i=e.getTTFB;n(t),c(t),a(t),r(t),i(t)}))},tt=n(23),et=n(46),nt=Object(tt.c)({posts:J,block:P,app:G}),ct=Object(tt.d)(nt,Object(tt.a)(et.a));o.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(d.a,{children:Object(c.jsx)(E.a,{store:ct,children:Object(c.jsx)(Z,{})})})}),document.getElementById("root")),$()}},[[78,1,2]]]);
//# sourceMappingURL=main.aa0b6fc8.chunk.js.map